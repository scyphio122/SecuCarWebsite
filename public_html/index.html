<!DOCTYPE html>
<html labg="en">
	<head>
		<!-- Include stylesheet -->
		<link rel="stylesheet" href="styles_login.css">
		<link rel="stylesheet" href="styles.css">
		<link rel="stylesheet" href="styles/form_style.css">
		<link rel="stylesheet" href="styles/modal_style.css">

		<script src="login.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script type="text/javascript" src="JSON/json2.js"></script>
		<script type="text/javascript" src="JSON/cycle.js"></script>
		<script type="text/javascript" src="JSON/json2.js"></script>
		<script type="text/javascript" src="JSON/json_parse.js"></script>
		<script type="text/javascript" src="JSON/json_parse_state.js"></script>
		<script type="text/javascript" src="httpRequests.js"></script>
	</head>

	<body>

		<!--	LOGIN FORM  -->
		<div id="mainPage">
		<div id="loginFormDiv">
			<form id="loginForm" action="http://localhost:9090/secucar/login">
			  <div class="imgcontainer">
					<img src="user_avatar.jpg" alt="Avatar" class="avatar">
			  </div>

			  <div class="container">
					<div class="lineDiv"><label class="formTextLabel"><b>Username</b></label></div>
					<div class="lineDiv"><input id="username" class="formTextInput loginInput" type="text" placeholder="Enter Username" name="username" required></div>

					<div class="lineDiv"><label class="formTextLabel"><b>Password</b></label></div>
					<div class="lineDiv"><input id="password" class="formTextInput loginInput" type="password" placeholder="Enter Password" name="password" required></div>

					<div class="lineDiv"><button id="loginButton" class="submitButton" type="submit">Login</button></div>
			  </div>

			  <div class="container">
					<button id="registerUserButton" type="button" class="cancelButton">Register User</button>
					<span class="psw text">Forgot <a href="#">password?</a></span>
			  </div>
			</form>
				<script>
					$( "#loginForm" ).submit(function( event )
					{
						// Stop form from submitting normally
						event.preventDefault();
						// Get some values from elements on the page:
						var $form = $( this ),
							_username = $form.find( "input[name='username']" ).val(),
							_password = $form.find( "input[name='password']" ).val(),
							_url = $form.attr( "action" );

						login(_url, _username, _password);
					});
				</script>
		</div>
	</div>

		<!--	REGISTRATION FORM MODAL	 -->
		<div id="registration_modal" class="modal">
			<div id="registration_modal_content" class="modal-content">
				<span id="registrationModalClose" class="close">&times;</span>
				<h2 id="RegisterUserId" class="modal_title"><center>Register User</center></h2>

				<div id="registrationFormDiv">
					<form id="registrationForm" action="http://localhost:9090/secucar/register">
							<div class="lineDiv"><label class="formTextLabel registrationLabel"><b>Username</b></label></div>
							<div class="lineDiv"><input id="username" class="formTextInput registrationLabel" type="text" placeholder="Enter Username" name="username" required></div>

							<div class="lineDiv"><label class="formTextLabel"><b>Name</b></label></div>
							<div class="lineDiv"><input id="name" class="formTextInput registrationLabel" type="text" placeholder="Enter Name" name="name" required></div>

							<div class="lineDiv"><label class="formTextLabel"><b>Surname</b></label></div>
							<div class="lineDiv"><input id="surname" class="formTextInput registrationLabel" type="text" placeholder="Enter Surname" name="surname" required></div>

							<div class="lineDiv"><label class="formTextLabel"><b>Email</b></label></div>
							<div class="lineDiv"><input id="email" class="formTextInput registrationLabel" type="text" placeholder="Enter Email" name="email" required></div>

							<div class="lineDiv"><label class="formTextLabel"><b>Telephone Number</b></label></div>
							<div class="lineDiv"><input id="telephone" class="formTextInput registrationLabel" type="text" placeholder="Enter Telephone number" name="telephone" required></div>

							<div class="lineDiv"><label class="formTextLabel"><b>City</b></label></div>
							<div class="lineDiv"><input id="city" class="formTextInput registrationLabel" type="text" placeholder="Enter City" name="city"></div>

							<div class="lineDiv"><label class="formTextLabel"><b>Street</b></label></div>
							<div class="lineDiv"><input id="street" class="formTextInput registrationLabel" type="text" placeholder="Enter Street" name="street"></div>

							<div class="lineDiv"><label class="formTextLabel"><b>Home number</b></label></div>
							<div class="lineDiv"><input id="homeNumber" class="formTextInput registrationLabel" type="text" placeholder="Enter Home Number" name="homeNumber"></div>

							<div class="lineDiv"><label class="formTextLabel"><b>Flat number</b></label></div>
							<div class="lineDiv"><input id="flatNumber" class="formTextInput registrationLabel" type="text" placeholder="Enter Flat Number" name="flatNumber"></div>

							<div class="lineDiv"><label class="formTextLabel"><b>Postal code</b></label></div>
							<div class="lineDiv"><input id="postalCode" class="formTextInput registrationLabel" type="text" placeholder="Enter Postal Code" name="postalCode"></div>

							<div class="lineDiv"><label class="formTextLabel"><b>Password</b></label></div>
							<div class="lineDiv"><input id="password" class="formTextInput registrationLabel" type="password" placeholder="Enter Password" name="password" required></div>

							<div class="lineDiv"><label class="formTextLabel"><b>Repeat Password</b></label></div>
							<div class="lineDiv"><input id="repeatPassword" class="formTextInput registrationLabel" type="password" placeholder="Repeat Password" name="repeatPassword" required></div>

							<div class="lineDiv"><button id="registerButton" class="submitButton" type="submit">Register User</button></div>
							<div class="lineDiv"><button id="closeRegistrationButton" class="cancelButton" type="button">Cancel</button></div>

					</form>
				</div>
			</div>
			<script>
				$( "#registrationForm" ).submit(function( event )
				{
					// Stop form from submitting normally
					event.preventDefault();
					// Get some values from elements on the page:
					var $form = $( this ),
						_username = $form.find( "input[name='username']" ).val(),
						_name = $form.find( "input[name='name']" ).val(),
						_surname = $form.find( "input[name='surname']" ).val(),
						_email = $form.find( "input[name='email']" ).val(),
						_telephone = $form.find( "input[name='telephone']" ).val(),
						_city = $form.find( "input[name='city']" ).val(),
						_street = $form.find( "input[name='street']" ).val(),
						_homeNumber = $form.find( "input[name='homeNumber']" ).val(),
						_flatNumber = $form.find( "input[name='flatNumber']" ).val(),
						_postalCode = $form.find( "input[name='postalCode']" ).val(),
						_password = $form.find( "input[name='password']" ).val(),
						_repeatPassword = $form.find( "input[name='repeatPassword']" ).val(),
						_url = $form.attr( "action" );

						RegisterUser(	_username,
													_name,
													_surname,
													_email,
													_telephone,
													_city,
													_street,
													_homeNumber,
													_flatNumber,
													_postalCode,
													_password,
													_repeatPassword);
				});
			</script>
		</div>
	</body>
</html>
